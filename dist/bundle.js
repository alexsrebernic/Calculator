(()=>{"use strict";var t={"^":{infix:"_POW"},"*":{infix:"_MUL"},"/":{infix:"_DIV"},"%":{infix:"_MOD"},"+":{infix:"_ADD",prefix:"_POS"},"-":{infix:"_SUB",prefix:"_NEG"}},n=function(t){return t>=0?t<2?1:t*n(t-1):NaN},e={_POW:{name:"Power",precedence:4,associativity:"right",method:function(t,n){return Math.pow(t,n)}},_POS:{name:"Positive",precedence:3,associativity:"right",method:function(t){return t}},_NEG:{name:"Negative",precedence:3,associativity:"right",method:function(t){return-t}},_MUL:{name:"Multiply",precedence:2,associativity:"left",method:function(t,n){return t*n}},_DIV:{name:"Divide",precedence:2,associativity:"left",method:function(t,n){return t/n}},_MOD:{name:"Modulo",precedence:2,associativity:"left",method:function(t,n){return t%n}},_ADD:{name:"Add",precedence:1,associativity:"left",method:function(t,n){return t+n}},_SUB:{name:"Subtract",precedence:1,associativity:"left",method:function(t,n){return t-n}}},o={E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PHI:(1+Math.sqrt(5))/2,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,TAU:2*Math.PI},r={ABS:function(t){return Math.abs(t)},ACOS:function(t){return Math.acos(t)},ACOSH:function(t){return Math.acosh(t)},ADD:function(t,n){return t+n},ASIN:function(t){return Math.asin(t)},ASINH:function(t){return Math.asinh(t)},ATAN:function(t){return Math.atan(t)},ATANH:function(t){return Math.atanh(t)},ATAN2:function(t,n){return Math.atan2(t,n)},CBRT:function(t){return Math.cbrt(t)},CEIL:function(t){return Math.ceil(t)},COS:function(t){return Math.cos(t)},COSH:function(t){return Math.cosh(t)},DIVIDE:function(t,n){return t/n},EXP:function(t){return Math.exp(t)},EXPM1:function(t){return Math.expm1(t)},FACTORIAL:n,FLOOR:function(t){return Math.floor(t)},HYPOT:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Math.hypot.apply(Math,t)},LOG:function(t){return Math.log(t)},LOG1P:function(t){return Math.log1p(t)},LOG10:function(t){return Math.log10(t)},LOG2:function(t){return Math.log2(t)},MAX:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Math.max.apply(Math,t)},MEAN:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return[].concat(t).reduce((function(t,n){return t+n}),0)/[].concat(t).length},MIN:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Math.min.apply(Math,t)},MOD:function(t,n){return t%n},MULTIPLY:function(t,n){return t*n},POW:function(t,n){return Math.pow(t,n)},SIN:function(t){return Math.sin(t)},SINH:function(t){return Math.sinh(t)},SQRT:function(t){return Math.sqrt(t)},SUBTRACT:function(t,n){return t-n},SUM:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return[].concat(t).reduce((function(t,n){return t+n}),0)},TAN:function(t){return Math.tan(t)},TANH:function(t){return Math.tanh(t)}},i=function(n){return Object.keys(t).includes(n)},u=function(t){return Object.keys(r).includes(t)},s=function(t){return Object.keys(o).includes(t)},c=function(t){return/(\d+\.\d*)|(\d*\.\d+)|(\d+)/.test(t)},h=function(t){return/\(/.test(t)},a=function(t){return/\)/.test(t)},l=function(t){return/,/.test(t)};function f(t,n){if(!t.length)return!1;var o=t[t.length-1];if(!function(t){return Object.keys(e).includes(t)}(o))return!1;var r=e[o],i=e[n];return!(1===i.method.length&&r.method.length>1)&&(r.precedence>i.precedence||r.precedence===i.precedence&&"left"===r.associativity)}function x(n){try{return function(t){if(!t.length)throw Error("No operations");var n,i,h=[];if(t.forEach((function(t){if(u(String(t).split(":")[0])){var n=t.split(":"),i=n[1],a=r[n[0]],l=0===a.length;if(h.length<(l?1:a.length))throw Error("Insufficient arguments for method: "+t);var f=a.apply(void 0,h.splice(l?-i:-a.length));h.push(f)}else if(s(t))h.push(o[t]);else if(c(t))h.push(t);else{var x=e[t];if(h.length<x.method.length)throw Error("Insufficient operands for operator: "+x.name);if("_DIV"===t&&0===h[1])throw Error("Division by zero");var g=x.method.apply(x,h.splice(-x.method.length));h.push(g)}})),h.length>1)throw Error("Insufficient operators");return n=h[0],(i=Math.pow(10,8))?Math.round(n*i)/i:Math.round(n)}(function(n){if(!n.length)throw Error("No valid tokens");var o=[],x=[],g=[],C=!1;for(n.forEach((function(p,d){if(C&&!h(p))throw Error("Misused method: "+o[o.length-1]);if(C=!1,u(p))return C=!0,o.push(p),void x.push(1);if(s(p))g.push(p);else if(c(p))g.push(parseFloat(p));else if(i(p)){var m=function(n,e){return void 0===e||h(e)||i(e)||l(e)?t[n].prefix:a(e)||c(e)||s(e)?t[n].infix:void 0}(p,n[d-1]);if(void 0===e[m])throw Error("Misused operator: "+p);for(;f(o,m);)g.push(o.pop());o.push(m)}else if(h(p))o.push(p);else if(l(p))for(x[x.length-1]+=1;!h(o[o.length-1]);){if(!o.length)throw Error("Invalid token: ,");g.push(o.pop())}else{if(!a(p))throw Error("Invalid token: "+p);for(;!h(o[o.length-1]);){if(!o.length)throw Error("Mismatched parentheses");g.push(o.pop())}if(o.pop(),u(o[o.length-1])){var y=o[o.length-1],M=x.pop();if(M<r[y].length)throw Error("Insufficient arguments for method: "+y);g.push(o.pop()+":"+M)}}}));o.length;){var p=o[o.length-1];if(h(p)||a(p))throw Error("Mismatched parentheses");g.push(o.pop())}return g}(function(t){if(!t.length)throw Error("No input");return(t.match(/(\d+\.\d*)|(\d*\.\d+)|(\d+)|([a-zA-Z0-9_]+)|(.)/g)||[]).filter((function(t){return!function(t){return/\s/.test(t)}(t)})).map((function(t){return t.toUpperCase()}))}(n)))}catch(t){throw t}}const g=document.querySelector("#result"),C=document.getElementById("para");let p=document.getElementById("span");C.textContent.length;const d=document.querySelector(".equal"),m=document.querySelectorAll(".parentesis"),y=document.querySelector(".coma"),M=document.querySelectorAll(".number"),b=document.querySelectorAll(".operator"),v=document.querySelector("#undo"),E=document.querySelector("#escape");function S(t){(function(t){return"operator"==t.className&&"+"==C.textContent.substring(C.textContent.length-1)||("operator"==t.className&&"-"==C.textContent.substring(C.textContent.length-1)||("operator"==t.className&&"*"==C.textContent.substring(C.textContent.length-1)||("operator"==t.className&&"/"==C.textContent.substring(C.textContent.length-1)||("operator"==t.className&&"%"==C.textContent.substring(C.textContent.length-1)||("operator"==t.className&&"^"==C.textContent.substring(C.textContent.length-1)||("%"==t.textContent&&"("==C.textContent.substring(C.textContent.length-1)||("/"==t.textContent&&"("==C.textContent.substring(C.textContent.length-1)||("*"==t.textContent&&"("==C.textContent.substring(C.textContent.length-1)||("^"==t.textContent&&"("==C.textContent.substring(C.textContent.length-1)||(")"==t.textContent&&"("==C.textContent.substring(C.textContent.length-1)||(")"==t.textContent&&"+"==C.textContent.substring(C.textContent.length-1)||(")"==t.textContent&&"*"==C.textContent.substring(C.textContent.length-1)||(")"==t.textContent&&"-"==C.textContent.substring(C.textContent.length-1)||(")"==t.textContent&&"/"==C.textContent.substring(C.textContent.length-1)||(")"==t.textContent&&"%"==C.textContent.substring(C.textContent.length-1)||(")"==t.textContent&&"^"==C.textContent.substring(C.textContent.length-1)||("."==t.textContent&&"."==C.textContent.substring(C.textContent.length-1)||void 0)))))))))))))))))})(t)||function(t){C.textContent.length<33&&(function(t){"("===t.textContent||")"===t.textContent?function(t){"("==t.textContent?(N+=1,"0"==C.textContent.substring(C.textContent.length-1)||"1"==C.textContent.substring(C.textContent.length-1)||"2"==C.textContent.substring(C.textContent.length-1)||"3"==C.textContent.substring(C.textContent.length-1)||"4"==C.textContent.substring(C.textContent.length-1)||"5"==C.textContent.substring(C.textContent.length-1)||"6"==C.textContent.substring(C.textContent.length-1)||"7"==C.textContent.substring(C.textContent.length-1)||"8"==C.textContent.substring(C.textContent.length-1)||"9"==C.textContent.substring(C.textContent.length-1)||")"==C.textContent.substring(C.textContent.length-1)?toString(C.textContent+="*("):(""==C.textContent.substring(C.textContent.length-1)||"-"==C.textContent.substring(C.textContent.length-1)||"+"==C.textContent.substring(C.textContent.length-1)||"*"==C.textContent.substring(C.textContent.length-1)||"/"==C.textContent.substring(C.textContent.length-1)||"%"==C.textContent.substring(C.textContent.length-1)||"("==C.textContent.substring(C.textContent.length-1))&&toString(C.textContent+="(")):")"==t.textContent&&N>k&&(k+=1,toString(C.textContent+=t.textContent))}(t):"operator"==t.className&&""==C.textContent||")"==t.textContent&&""==C.textContent||("number"==t.className&&")"==C.textContent.substring(C.textContent.length-1)||"."==t.textContent&&")"==C.textContent.substring(C.textContent.length-1)?toString(C.textContent+="*"+t.textContent):toString(C.textContent+=t.textContent))}(t),w())}(t)}d.onclick=()=>function(){try{x(C.textContent)}catch(t){return p.style.display="block",void(p.textContent=t.message)}let t=x(C.textContent),n=document.createElement("div");(function(t){t.style.width="100%",t.style.height="13%",t.style.display="flex",t.style.flexDirection="row",t.style.justifyContent="space-between",t.style.alignItems="center",t.style.borderTop="1px solid rgb(188, 184, 178)",g.appendChild(t)})(n),function(t){let n=C.textContent,e=document.createElement("p");e.style.fontSize="14px",e.style.marginLeft="20px",e.style.maxWidth="180px",e.style.wordWrap="break-word",e.textContent=n,t.appendChild(e)}(n),function(t){let n=x(C.textContent),e=document.createElement("p");e.style.fontSize="14px",e.style.marginRight="20px",e.textContent="=     "+n,t.appendChild(e)}(n),A(),C.textContent+=t,console.log(g.childNodes.length),8==g.childNodes.length&&g.removeChild(g.firstChild)}(),y.onclick=()=>S(y),v.onclick=()=>O(),E.onclick=()=>A(),window.addEventListener("keydown",(function(t){t.key>=0&&t.key<=9&&S(t.key),","===t.key&&S(),"="!==t.key&&"Enter"!==t.key||x(),"Backspace"===t.key&&O(),"Escape"===t.key&&A(),"+"!==t.key&&"-"!==t.key&&"*"!==t.key&&"/"!==t.key||S(t.key)})),m.forEach((function(t){t.onclick=()=>S(t)})),M.forEach((function(t){t.onclick=()=>S(t)})),b.forEach((function(t){t.onclick=()=>S(t)}));let N=0,k=0;function O(){C.textContent=C.textContent.slice(0,-1),w()}function w(){p.textContent="Limit reached!",C.textContent.length>=33?p.style.display="block":C.textContent.length<33&&(p.style.display="none")}function A(){C.textContent="",p.style.display="none"}})();